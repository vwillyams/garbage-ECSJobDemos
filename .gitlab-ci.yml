stages:
  - test
  - build
  - run

################################################################################
# windows test for 2018.1.0b13
################################################################################
windows:test:2018.1.0b13:
  stage: test
  before_script:
  - python Tools/CI/beforescript.py 2018.1.0b13
  after_script:
  - python Tools/CI/afterscript.py 2018.1.0b13
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.exe" -projectpath Samples -batchmode -nographics -silentcrashes -automated -logfile output-windows-test.log -runtests -testresults results.xml
  artifacts:
    name: "artifacts-windows-test"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week

################################################################################
# windows build for 2018.1.0b13
################################################################################
windows:build:boids:mono:2018.1.0b13:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.1.0b13
  after_script:
  - python Tools/CI/afterscript.py 2018.1.0b13
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.exe" -projectpath Samples -batchmode -buildWindows64Player build/mono/windows-standalone.exe -nographics -silentcrashes -automated -logfile output-windows-boids-build-mono.log -cleanedLogFile output-windows-boids-build-mono-cleaned.log -quit -scene Assets/Scenes/BoidExample.unity -scriptingBackend mono -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-windows-boids"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - windows:test


windows:build:chains:mono:2018.1.0b13:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.1.0b13
  after_script:
  - python Tools/CI/afterscript.py 2018.1.0b13
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.exe" -projectpath Samples -batchmode -buildWindows64Player build/mono/windows-standalone.exe -nographics -silentcrashes -automated -logfile output-windows-chains-build-mono.log -cleanedLogFile output-windows-chains-build-mono-cleaned.log -quit -scene Assets/Scenes/ChainExample.unity -scriptingBackend mono -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-windows-chains"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - windows:test


windows:build:hierarchy:mono:2018.1.0b13:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.1.0b13
  after_script:
  - python Tools/CI/afterscript.py 2018.1.0b13
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.exe" -projectpath Samples -batchmode -buildWindows64Player build/mono/windows-standalone.exe -nographics -silentcrashes -automated -logfile output-windows-hierarchy-build-mono.log -cleanedLogFile output-windows-hierarchy-build-mono-cleaned.log -quit -scene Assets/Scenes/HierarchyExample.unity -scriptingBackend mono -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-windows-hierarchy"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - windows:test


windows:build:rotation:mono:2018.1.0b13:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.1.0b13
  after_script:
  - python Tools/CI/afterscript.py 2018.1.0b13
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.exe" -projectpath Samples -batchmode -buildWindows64Player build/mono/windows-standalone.exe -nographics -silentcrashes -automated -logfile output-windows-rotation-build-mono.log -cleanedLogFile output-windows-rotation-build-mono-cleaned.log -quit -scene Assets/Scenes/RotationExample.unity -scriptingBackend mono -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-windows-rotation"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - windows:test


windows:build:twostickshooter-classic:mono:2018.1.0b13:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.1.0b13
  after_script:
  - python Tools/CI/afterscript.py 2018.1.0b13
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.exe" -projectpath TwoStickShooter/Classic -batchmode -buildWindows64Player build/mono/windows-standalone.exe -nographics -silentcrashes -automated -logfile output-windows-twostickshooter-classic-build-mono.log -cleanedLogFile output-windows-twostickshooter-classic-build-mono-cleaned.log -quit -scene Assets/Scenes/TwoStickClassic.unity -scriptingBackend mono -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-windows-twostickshooter-classic"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Classic/build"
    expire_in: 1 week
  dependencies:
    - windows:test


windows:build:twostickshooter-hybrid:mono:2018.1.0b13:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.1.0b13
  after_script:
  - python Tools/CI/afterscript.py 2018.1.0b13
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.exe" -projectpath TwoStickShooter/Hybrid -batchmode -buildWindows64Player build/mono/windows-standalone.exe -nographics -silentcrashes -automated -logfile output-windows-twostickshooter-hybrid-build-mono.log -cleanedLogFile output-windows-twostickshooter-hybrid-build-mono-cleaned.log -quit -scene Assets/Scenes/TwoStickHybrid.unity -scriptingBackend mono -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-windows-twostickshooter-hybrid"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Hybrid/build"
    expire_in: 1 week
  dependencies:
    - windows:test


windows:build:twostickshooter-pure:mono:2018.1.0b13:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.1.0b13
  after_script:
  - python Tools/CI/afterscript.py 2018.1.0b13
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.exe" -projectpath TwoStickShooter/Pure -batchmode -buildWindows64Player build/mono/windows-standalone.exe -nographics -silentcrashes -automated -logfile output-windows-twostickshooter-pure-build-mono.log -cleanedLogFile output-windows-twostickshooter-pure-build-mono-cleaned.log -quit -scene Assets/Scenes/TwoStickPure.unity -scriptingBackend mono -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-windows-twostickshooter-pure"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Pure/build"
    expire_in: 1 week
  dependencies:
    - windows:test


windows:build:boids:il2cpp:2018.1.0b13:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.1.0b13
  after_script:
  - python Tools/CI/afterscript.py 2018.1.0b13
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.exe" -projectpath Samples -batchmode -buildWindows64Player build/il2cpp/windows-standalone.exe -nographics -silentcrashes -automated -logfile output-windows-boids-build-il2cpp.log -cleanedLogFile output-windows-boids-build-il2cpp-cleaned.log -quit -scene Assets/Scenes/BoidExample.unity -scriptingBackend il2cpp -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-windows-boids"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - windows:test


windows:build:chains:il2cpp:2018.1.0b13:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.1.0b13
  after_script:
  - python Tools/CI/afterscript.py 2018.1.0b13
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.exe" -projectpath Samples -batchmode -buildWindows64Player build/il2cpp/windows-standalone.exe -nographics -silentcrashes -automated -logfile output-windows-chains-build-il2cpp.log -cleanedLogFile output-windows-chains-build-il2cpp-cleaned.log -quit -scene Assets/Scenes/ChainExample.unity -scriptingBackend il2cpp -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-windows-chains"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - windows:test


windows:build:hierarchy:il2cpp:2018.1.0b13:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.1.0b13
  after_script:
  - python Tools/CI/afterscript.py 2018.1.0b13
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.exe" -projectpath Samples -batchmode -buildWindows64Player build/il2cpp/windows-standalone.exe -nographics -silentcrashes -automated -logfile output-windows-hierarchy-build-il2cpp.log -cleanedLogFile output-windows-hierarchy-build-il2cpp-cleaned.log -quit -scene Assets/Scenes/HierarchyExample.unity -scriptingBackend il2cpp -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-windows-hierarchy"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - windows:test


windows:build:rotation:il2cpp:2018.1.0b13:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.1.0b13
  after_script:
  - python Tools/CI/afterscript.py 2018.1.0b13
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.exe" -projectpath Samples -batchmode -buildWindows64Player build/il2cpp/windows-standalone.exe -nographics -silentcrashes -automated -logfile output-windows-rotation-build-il2cpp.log -cleanedLogFile output-windows-rotation-build-il2cpp-cleaned.log -quit -scene Assets/Scenes/RotationExample.unity -scriptingBackend il2cpp -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-windows-rotation"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - windows:test


windows:build:twostickshooter-classic:il2cpp:2018.1.0b13:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.1.0b13
  after_script:
  - python Tools/CI/afterscript.py 2018.1.0b13
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.exe" -projectpath TwoStickShooter/Classic -batchmode -buildWindows64Player build/il2cpp/windows-standalone.exe -nographics -silentcrashes -automated -logfile output-windows-twostickshooter-classic-build-il2cpp.log -cleanedLogFile output-windows-twostickshooter-classic-build-il2cpp-cleaned.log -quit -scene Assets/Scenes/TwoStickClassic.unity -scriptingBackend il2cpp -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-windows-twostickshooter-classic"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Classic/build"
    expire_in: 1 week
  dependencies:
    - windows:test


windows:build:twostickshooter-hybrid:il2cpp:2018.1.0b13:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.1.0b13
  after_script:
  - python Tools/CI/afterscript.py 2018.1.0b13
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.exe" -projectpath TwoStickShooter/Hybrid -batchmode -buildWindows64Player build/il2cpp/windows-standalone.exe -nographics -silentcrashes -automated -logfile output-windows-twostickshooter-hybrid-build-il2cpp.log -cleanedLogFile output-windows-twostickshooter-hybrid-build-il2cpp-cleaned.log -quit -scene Assets/Scenes/TwoStickHybrid.unity -scriptingBackend il2cpp -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-windows-twostickshooter-hybrid"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Hybrid/build"
    expire_in: 1 week
  dependencies:
    - windows:test


windows:build:twostickshooter-pure:il2cpp:2018.1.0b13:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.1.0b13
  after_script:
  - python Tools/CI/afterscript.py 2018.1.0b13
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.exe" -projectpath TwoStickShooter/Pure -batchmode -buildWindows64Player build/il2cpp/windows-standalone.exe -nographics -silentcrashes -automated -logfile output-windows-twostickshooter-pure-build-il2cpp.log -cleanedLogFile output-windows-twostickshooter-pure-build-il2cpp-cleaned.log -quit -scene Assets/Scenes/TwoStickPure.unity -scriptingBackend il2cpp -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-windows-twostickshooter-pure"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Pure/build"
    expire_in: 1 week
  dependencies:
    - windows:test


################################################################################
# windows run for 2018.1.0b13
################################################################################
windows:run:boids:mono:2018.1.0b13:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable Samples/build/mono/windows-standalone.exe -logfile output-windows-boids-run-mono.log -cleanedLogFile output-windows-boids-run-mono-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-windows-boids"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - windows:build:boids:mono


windows:run:chains:mono:2018.1.0b13:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable Samples/build/mono/windows-standalone.exe -logfile output-windows-chains-run-mono.log -cleanedLogFile output-windows-chains-run-mono-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-windows-chains"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - windows:build:chains:mono


windows:run:hierarchy:mono:2018.1.0b13:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable Samples/build/mono/windows-standalone.exe -logfile output-windows-hierarchy-run-mono.log -cleanedLogFile output-windows-hierarchy-run-mono-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-windows-hierarchy"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - windows:build:hierarchy:mono


windows:run:rotation:mono:2018.1.0b13:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable Samples/build/mono/windows-standalone.exe -logfile output-windows-rotation-run-mono.log -cleanedLogFile output-windows-rotation-run-mono-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-windows-rotation"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - windows:build:rotation:mono


windows:run:twostickshooter-classic:mono:2018.1.0b13:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable TwoStickShooter/Classic/build/mono/windows-standalone.exe -logfile output-windows-twostickshooter-classic-run-mono.log -cleanedLogFile output-windows-twostickshooter-classic-run-mono-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-windows-twostickshooter-classic"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Classic/build"
    expire_in: 1 week
  dependencies:
    - windows:build:twostickshooter-classic:mono


windows:run:twostickshooter-hybrid:mono:2018.1.0b13:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable TwoStickShooter/Hybrid/build/mono/windows-standalone.exe -logfile output-windows-twostickshooter-hybrid-run-mono.log -cleanedLogFile output-windows-twostickshooter-hybrid-run-mono-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-windows-twostickshooter-hybrid"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Hybrid/build"
    expire_in: 1 week
  dependencies:
    - windows:build:twostickshooter-hybrid:mono


windows:run:twostickshooter-pure:mono:2018.1.0b13:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable TwoStickShooter/Pure/build/mono/windows-standalone.exe -logfile output-windows-twostickshooter-pure-run-mono.log -cleanedLogFile output-windows-twostickshooter-pure-run-mono-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-windows-twostickshooter-pure"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Pure/build"
    expire_in: 1 week
  dependencies:
    - windows:build:twostickshooter-pure:mono


windows:run:boids:il2cpp:2018.1.0b13:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable Samples/build/il2cpp/windows-standalone.exe -logfile output-windows-boids-run-il2cpp.log -cleanedLogFile output-windows-boids-run-il2cpp-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-windows-boids"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - windows:build:boids:il2cpp


windows:run:chains:il2cpp:2018.1.0b13:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable Samples/build/il2cpp/windows-standalone.exe -logfile output-windows-chains-run-il2cpp.log -cleanedLogFile output-windows-chains-run-il2cpp-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-windows-chains"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - windows:build:chains:il2cpp


windows:run:hierarchy:il2cpp:2018.1.0b13:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable Samples/build/il2cpp/windows-standalone.exe -logfile output-windows-hierarchy-run-il2cpp.log -cleanedLogFile output-windows-hierarchy-run-il2cpp-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-windows-hierarchy"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - windows:build:hierarchy:il2cpp


windows:run:rotation:il2cpp:2018.1.0b13:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable Samples/build/il2cpp/windows-standalone.exe -logfile output-windows-rotation-run-il2cpp.log -cleanedLogFile output-windows-rotation-run-il2cpp-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-windows-rotation"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - windows:build:rotation:il2cpp


windows:run:twostickshooter-classic:il2cpp:2018.1.0b13:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable TwoStickShooter/Classic/build/il2cpp/windows-standalone.exe -logfile output-windows-twostickshooter-classic-run-il2cpp.log -cleanedLogFile output-windows-twostickshooter-classic-run-il2cpp-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-windows-twostickshooter-classic"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Classic/build"
    expire_in: 1 week
  dependencies:
    - windows:build:twostickshooter-classic:il2cpp


windows:run:twostickshooter-hybrid:il2cpp:2018.1.0b13:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable TwoStickShooter/Hybrid/build/il2cpp/windows-standalone.exe -logfile output-windows-twostickshooter-hybrid-run-il2cpp.log -cleanedLogFile output-windows-twostickshooter-hybrid-run-il2cpp-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-windows-twostickshooter-hybrid"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Hybrid/build"
    expire_in: 1 week
  dependencies:
    - windows:build:twostickshooter-hybrid:il2cpp


windows:run:twostickshooter-pure:il2cpp:2018.1.0b13:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable TwoStickShooter/Pure/build/il2cpp/windows-standalone.exe -logfile output-windows-twostickshooter-pure-run-il2cpp.log -cleanedLogFile output-windows-twostickshooter-pure-run-il2cpp-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-windows-twostickshooter-pure"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Pure/build"
    expire_in: 1 week
  dependencies:
    - windows:build:twostickshooter-pure:il2cpp


################################################################################
# macOS test for 2018.1.0b13
################################################################################
macOS:test:2018.1.0b13:
  stage: test
  before_script:
  - python Tools/CI/beforescript.py 2018.1.0b13
  after_script:
  - python Tools/CI/afterscript.py 2018.1.0b13
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.app/Contents/MacOS/Unity" -projectpath Samples -batchmode -nographics -silentcrashes -automated -logfile output-macOS-test.log -runtests -testresults results.xml
  artifacts:
    name: "artifacts-macOS-test"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week

################################################################################
# macOS build for 2018.1.0b13
################################################################################
macOS:build:boids:mono:2018.1.0b13:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.1.0b13
  after_script:
  - python Tools/CI/afterscript.py 2018.1.0b13
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.app/Contents/MacOS/Unity" -projectpath Samples -batchmode -buildOSXUniversalPlayer build/mono/macOS-standalone.app -nographics -silentcrashes -automated -logfile output-macOS-boids-build-mono.log -cleanedLogFile output-macOS-boids-build-mono-cleaned.log -quit -scene Assets/Scenes/BoidExample.unity -scriptingBackend mono -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-macOS-boids"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - macOS:test


macOS:build:chains:mono:2018.1.0b13:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.1.0b13
  after_script:
  - python Tools/CI/afterscript.py 2018.1.0b13
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.app/Contents/MacOS/Unity" -projectpath Samples -batchmode -buildOSXUniversalPlayer build/mono/macOS-standalone.app -nographics -silentcrashes -automated -logfile output-macOS-chains-build-mono.log -cleanedLogFile output-macOS-chains-build-mono-cleaned.log -quit -scene Assets/Scenes/ChainExample.unity -scriptingBackend mono -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-macOS-chains"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - macOS:test


macOS:build:hierarchy:mono:2018.1.0b13:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.1.0b13
  after_script:
  - python Tools/CI/afterscript.py 2018.1.0b13
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.app/Contents/MacOS/Unity" -projectpath Samples -batchmode -buildOSXUniversalPlayer build/mono/macOS-standalone.app -nographics -silentcrashes -automated -logfile output-macOS-hierarchy-build-mono.log -cleanedLogFile output-macOS-hierarchy-build-mono-cleaned.log -quit -scene Assets/Scenes/HierarchyExample.unity -scriptingBackend mono -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-macOS-hierarchy"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - macOS:test


macOS:build:rotation:mono:2018.1.0b13:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.1.0b13
  after_script:
  - python Tools/CI/afterscript.py 2018.1.0b13
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.app/Contents/MacOS/Unity" -projectpath Samples -batchmode -buildOSXUniversalPlayer build/mono/macOS-standalone.app -nographics -silentcrashes -automated -logfile output-macOS-rotation-build-mono.log -cleanedLogFile output-macOS-rotation-build-mono-cleaned.log -quit -scene Assets/Scenes/RotationExample.unity -scriptingBackend mono -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-macOS-rotation"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - macOS:test


macOS:build:twostickshooter-classic:mono:2018.1.0b13:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.1.0b13
  after_script:
  - python Tools/CI/afterscript.py 2018.1.0b13
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.app/Contents/MacOS/Unity" -projectpath TwoStickShooter/Classic -batchmode -buildOSXUniversalPlayer build/mono/macOS-standalone.app -nographics -silentcrashes -automated -logfile output-macOS-twostickshooter-classic-build-mono.log -cleanedLogFile output-macOS-twostickshooter-classic-build-mono-cleaned.log -quit -scene Assets/Scenes/TwoStickClassic.unity -scriptingBackend mono -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-macOS-twostickshooter-classic"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Classic/build"
    expire_in: 1 week
  dependencies:
    - macOS:test


macOS:build:twostickshooter-hybrid:mono:2018.1.0b13:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.1.0b13
  after_script:
  - python Tools/CI/afterscript.py 2018.1.0b13
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.app/Contents/MacOS/Unity" -projectpath TwoStickShooter/Hybrid -batchmode -buildOSXUniversalPlayer build/mono/macOS-standalone.app -nographics -silentcrashes -automated -logfile output-macOS-twostickshooter-hybrid-build-mono.log -cleanedLogFile output-macOS-twostickshooter-hybrid-build-mono-cleaned.log -quit -scene Assets/Scenes/TwoStickHybrid.unity -scriptingBackend mono -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-macOS-twostickshooter-hybrid"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Hybrid/build"
    expire_in: 1 week
  dependencies:
    - macOS:test


macOS:build:twostickshooter-pure:mono:2018.1.0b13:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.1.0b13
  after_script:
  - python Tools/CI/afterscript.py 2018.1.0b13
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.app/Contents/MacOS/Unity" -projectpath TwoStickShooter/Pure -batchmode -buildOSXUniversalPlayer build/mono/macOS-standalone.app -nographics -silentcrashes -automated -logfile output-macOS-twostickshooter-pure-build-mono.log -cleanedLogFile output-macOS-twostickshooter-pure-build-mono-cleaned.log -quit -scene Assets/Scenes/TwoStickPure.unity -scriptingBackend mono -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-macOS-twostickshooter-pure"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Pure/build"
    expire_in: 1 week
  dependencies:
    - macOS:test


macOS:build:boids:il2cpp:2018.1.0b13:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.1.0b13
  after_script:
  - python Tools/CI/afterscript.py 2018.1.0b13
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.app/Contents/MacOS/Unity" -projectpath Samples -batchmode -buildOSXUniversalPlayer build/il2cpp/macOS-standalone.app -nographics -silentcrashes -automated -logfile output-macOS-boids-build-il2cpp.log -cleanedLogFile output-macOS-boids-build-il2cpp-cleaned.log -quit -scene Assets/Scenes/BoidExample.unity -scriptingBackend il2cpp -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-macOS-boids"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - macOS:test


macOS:build:chains:il2cpp:2018.1.0b13:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.1.0b13
  after_script:
  - python Tools/CI/afterscript.py 2018.1.0b13
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.app/Contents/MacOS/Unity" -projectpath Samples -batchmode -buildOSXUniversalPlayer build/il2cpp/macOS-standalone.app -nographics -silentcrashes -automated -logfile output-macOS-chains-build-il2cpp.log -cleanedLogFile output-macOS-chains-build-il2cpp-cleaned.log -quit -scene Assets/Scenes/ChainExample.unity -scriptingBackend il2cpp -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-macOS-chains"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - macOS:test


macOS:build:hierarchy:il2cpp:2018.1.0b13:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.1.0b13
  after_script:
  - python Tools/CI/afterscript.py 2018.1.0b13
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.app/Contents/MacOS/Unity" -projectpath Samples -batchmode -buildOSXUniversalPlayer build/il2cpp/macOS-standalone.app -nographics -silentcrashes -automated -logfile output-macOS-hierarchy-build-il2cpp.log -cleanedLogFile output-macOS-hierarchy-build-il2cpp-cleaned.log -quit -scene Assets/Scenes/HierarchyExample.unity -scriptingBackend il2cpp -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-macOS-hierarchy"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - macOS:test


macOS:build:rotation:il2cpp:2018.1.0b13:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.1.0b13
  after_script:
  - python Tools/CI/afterscript.py 2018.1.0b13
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.app/Contents/MacOS/Unity" -projectpath Samples -batchmode -buildOSXUniversalPlayer build/il2cpp/macOS-standalone.app -nographics -silentcrashes -automated -logfile output-macOS-rotation-build-il2cpp.log -cleanedLogFile output-macOS-rotation-build-il2cpp-cleaned.log -quit -scene Assets/Scenes/RotationExample.unity -scriptingBackend il2cpp -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-macOS-rotation"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - macOS:test


macOS:build:twostickshooter-classic:il2cpp:2018.1.0b13:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.1.0b13
  after_script:
  - python Tools/CI/afterscript.py 2018.1.0b13
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.app/Contents/MacOS/Unity" -projectpath TwoStickShooter/Classic -batchmode -buildOSXUniversalPlayer build/il2cpp/macOS-standalone.app -nographics -silentcrashes -automated -logfile output-macOS-twostickshooter-classic-build-il2cpp.log -cleanedLogFile output-macOS-twostickshooter-classic-build-il2cpp-cleaned.log -quit -scene Assets/Scenes/TwoStickClassic.unity -scriptingBackend il2cpp -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-macOS-twostickshooter-classic"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Classic/build"
    expire_in: 1 week
  dependencies:
    - macOS:test


macOS:build:twostickshooter-hybrid:il2cpp:2018.1.0b13:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.1.0b13
  after_script:
  - python Tools/CI/afterscript.py 2018.1.0b13
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.app/Contents/MacOS/Unity" -projectpath TwoStickShooter/Hybrid -batchmode -buildOSXUniversalPlayer build/il2cpp/macOS-standalone.app -nographics -silentcrashes -automated -logfile output-macOS-twostickshooter-hybrid-build-il2cpp.log -cleanedLogFile output-macOS-twostickshooter-hybrid-build-il2cpp-cleaned.log -quit -scene Assets/Scenes/TwoStickHybrid.unity -scriptingBackend il2cpp -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-macOS-twostickshooter-hybrid"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Hybrid/build"
    expire_in: 1 week
  dependencies:
    - macOS:test


macOS:build:twostickshooter-pure:il2cpp:2018.1.0b13:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.1.0b13
  after_script:
  - python Tools/CI/afterscript.py 2018.1.0b13
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.app/Contents/MacOS/Unity" -projectpath TwoStickShooter/Pure -batchmode -buildOSXUniversalPlayer build/il2cpp/macOS-standalone.app -nographics -silentcrashes -automated -logfile output-macOS-twostickshooter-pure-build-il2cpp.log -cleanedLogFile output-macOS-twostickshooter-pure-build-il2cpp-cleaned.log -quit -scene Assets/Scenes/TwoStickPure.unity -scriptingBackend il2cpp -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-macOS-twostickshooter-pure"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Pure/build"
    expire_in: 1 week
  dependencies:
    - macOS:test


################################################################################
# macOS run for 2018.1.0b13
################################################################################
macOS:run:boids:mono:2018.1.0b13:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable Samples/build/mono/macOS-standalone.app -logfile output-macOS-boids-run-mono.log -cleanedLogFile output-macOS-boids-run-mono-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-macOS-boids"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - macOS:build:boids:mono


macOS:run:chains:mono:2018.1.0b13:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable Samples/build/mono/macOS-standalone.app -logfile output-macOS-chains-run-mono.log -cleanedLogFile output-macOS-chains-run-mono-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-macOS-chains"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - macOS:build:chains:mono


macOS:run:hierarchy:mono:2018.1.0b13:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable Samples/build/mono/macOS-standalone.app -logfile output-macOS-hierarchy-run-mono.log -cleanedLogFile output-macOS-hierarchy-run-mono-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-macOS-hierarchy"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - macOS:build:hierarchy:mono


macOS:run:rotation:mono:2018.1.0b13:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable Samples/build/mono/macOS-standalone.app -logfile output-macOS-rotation-run-mono.log -cleanedLogFile output-macOS-rotation-run-mono-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-macOS-rotation"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - macOS:build:rotation:mono


macOS:run:twostickshooter-classic:mono:2018.1.0b13:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable TwoStickShooter/Classic/build/mono/macOS-standalone.app -logfile output-macOS-twostickshooter-classic-run-mono.log -cleanedLogFile output-macOS-twostickshooter-classic-run-mono-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-macOS-twostickshooter-classic"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Classic/build"
    expire_in: 1 week
  dependencies:
    - macOS:build:twostickshooter-classic:mono


macOS:run:twostickshooter-hybrid:mono:2018.1.0b13:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable TwoStickShooter/Hybrid/build/mono/macOS-standalone.app -logfile output-macOS-twostickshooter-hybrid-run-mono.log -cleanedLogFile output-macOS-twostickshooter-hybrid-run-mono-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-macOS-twostickshooter-hybrid"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Hybrid/build"
    expire_in: 1 week
  dependencies:
    - macOS:build:twostickshooter-hybrid:mono


macOS:run:twostickshooter-pure:mono:2018.1.0b13:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable TwoStickShooter/Pure/build/mono/macOS-standalone.app -logfile output-macOS-twostickshooter-pure-run-mono.log -cleanedLogFile output-macOS-twostickshooter-pure-run-mono-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-macOS-twostickshooter-pure"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Pure/build"
    expire_in: 1 week
  dependencies:
    - macOS:build:twostickshooter-pure:mono


macOS:run:boids:il2cpp:2018.1.0b13:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable Samples/build/il2cpp/macOS-standalone.app -logfile output-macOS-boids-run-il2cpp.log -cleanedLogFile output-macOS-boids-run-il2cpp-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-macOS-boids"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - macOS:build:boids:il2cpp


macOS:run:chains:il2cpp:2018.1.0b13:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable Samples/build/il2cpp/macOS-standalone.app -logfile output-macOS-chains-run-il2cpp.log -cleanedLogFile output-macOS-chains-run-il2cpp-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-macOS-chains"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - macOS:build:chains:il2cpp


macOS:run:hierarchy:il2cpp:2018.1.0b13:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable Samples/build/il2cpp/macOS-standalone.app -logfile output-macOS-hierarchy-run-il2cpp.log -cleanedLogFile output-macOS-hierarchy-run-il2cpp-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-macOS-hierarchy"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - macOS:build:hierarchy:il2cpp


macOS:run:rotation:il2cpp:2018.1.0b13:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable Samples/build/il2cpp/macOS-standalone.app -logfile output-macOS-rotation-run-il2cpp.log -cleanedLogFile output-macOS-rotation-run-il2cpp-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-macOS-rotation"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - macOS:build:rotation:il2cpp


macOS:run:twostickshooter-classic:il2cpp:2018.1.0b13:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable TwoStickShooter/Classic/build/il2cpp/macOS-standalone.app -logfile output-macOS-twostickshooter-classic-run-il2cpp.log -cleanedLogFile output-macOS-twostickshooter-classic-run-il2cpp-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-macOS-twostickshooter-classic"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Classic/build"
    expire_in: 1 week
  dependencies:
    - macOS:build:twostickshooter-classic:il2cpp


macOS:run:twostickshooter-hybrid:il2cpp:2018.1.0b13:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable TwoStickShooter/Hybrid/build/il2cpp/macOS-standalone.app -logfile output-macOS-twostickshooter-hybrid-run-il2cpp.log -cleanedLogFile output-macOS-twostickshooter-hybrid-run-il2cpp-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-macOS-twostickshooter-hybrid"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Hybrid/build"
    expire_in: 1 week
  dependencies:
    - macOS:build:twostickshooter-hybrid:il2cpp


macOS:run:twostickshooter-pure:il2cpp:2018.1.0b13:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable TwoStickShooter/Pure/build/il2cpp/macOS-standalone.app -logfile output-macOS-twostickshooter-pure-run-il2cpp.log -cleanedLogFile output-macOS-twostickshooter-pure-run-il2cpp-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-macOS-twostickshooter-pure"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Pure/build"
    expire_in: 1 week
  dependencies:
    - macOS:build:twostickshooter-pure:il2cpp


################################################################################
# windows test for 2018.2.0a8
################################################################################
windows:test:2018.2.0a8:
  stage: test
  before_script:
  - python Tools/CI/beforescript.py 2018.2.0a8
  after_script:
  - python Tools/CI/afterscript.py 2018.2.0a8
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.exe" -projectpath Samples -batchmode -nographics -silentcrashes -automated -logfile output-windows-test.log -runtests -testresults results.xml
  artifacts:
    name: "artifacts-windows-test"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week

################################################################################
# windows build for 2018.2.0a8
################################################################################
windows:build:boids:mono:2018.2.0a8:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.2.0a8
  after_script:
  - python Tools/CI/afterscript.py 2018.2.0a8
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.exe" -projectpath Samples -batchmode -buildWindows64Player build/mono/windows-standalone.exe -nographics -silentcrashes -automated -logfile output-windows-boids-build-mono.log -cleanedLogFile output-windows-boids-build-mono-cleaned.log -quit -scene Assets/Scenes/BoidExample.unity -scriptingBackend mono -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-windows-boids"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - windows:test


windows:build:chains:mono:2018.2.0a8:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.2.0a8
  after_script:
  - python Tools/CI/afterscript.py 2018.2.0a8
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.exe" -projectpath Samples -batchmode -buildWindows64Player build/mono/windows-standalone.exe -nographics -silentcrashes -automated -logfile output-windows-chains-build-mono.log -cleanedLogFile output-windows-chains-build-mono-cleaned.log -quit -scene Assets/Scenes/ChainExample.unity -scriptingBackend mono -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-windows-chains"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - windows:test


windows:build:hierarchy:mono:2018.2.0a8:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.2.0a8
  after_script:
  - python Tools/CI/afterscript.py 2018.2.0a8
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.exe" -projectpath Samples -batchmode -buildWindows64Player build/mono/windows-standalone.exe -nographics -silentcrashes -automated -logfile output-windows-hierarchy-build-mono.log -cleanedLogFile output-windows-hierarchy-build-mono-cleaned.log -quit -scene Assets/Scenes/HierarchyExample.unity -scriptingBackend mono -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-windows-hierarchy"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - windows:test


windows:build:rotation:mono:2018.2.0a8:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.2.0a8
  after_script:
  - python Tools/CI/afterscript.py 2018.2.0a8
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.exe" -projectpath Samples -batchmode -buildWindows64Player build/mono/windows-standalone.exe -nographics -silentcrashes -automated -logfile output-windows-rotation-build-mono.log -cleanedLogFile output-windows-rotation-build-mono-cleaned.log -quit -scene Assets/Scenes/RotationExample.unity -scriptingBackend mono -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-windows-rotation"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - windows:test


windows:build:twostickshooter-classic:mono:2018.2.0a8:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.2.0a8
  after_script:
  - python Tools/CI/afterscript.py 2018.2.0a8
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.exe" -projectpath TwoStickShooter/Classic -batchmode -buildWindows64Player build/mono/windows-standalone.exe -nographics -silentcrashes -automated -logfile output-windows-twostickshooter-classic-build-mono.log -cleanedLogFile output-windows-twostickshooter-classic-build-mono-cleaned.log -quit -scene Assets/Scenes/TwoStickClassic.unity -scriptingBackend mono -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-windows-twostickshooter-classic"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Classic/build"
    expire_in: 1 week
  dependencies:
    - windows:test


windows:build:twostickshooter-hybrid:mono:2018.2.0a8:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.2.0a8
  after_script:
  - python Tools/CI/afterscript.py 2018.2.0a8
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.exe" -projectpath TwoStickShooter/Hybrid -batchmode -buildWindows64Player build/mono/windows-standalone.exe -nographics -silentcrashes -automated -logfile output-windows-twostickshooter-hybrid-build-mono.log -cleanedLogFile output-windows-twostickshooter-hybrid-build-mono-cleaned.log -quit -scene Assets/Scenes/TwoStickHybrid.unity -scriptingBackend mono -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-windows-twostickshooter-hybrid"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Hybrid/build"
    expire_in: 1 week
  dependencies:
    - windows:test


windows:build:twostickshooter-pure:mono:2018.2.0a8:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.2.0a8
  after_script:
  - python Tools/CI/afterscript.py 2018.2.0a8
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.exe" -projectpath TwoStickShooter/Pure -batchmode -buildWindows64Player build/mono/windows-standalone.exe -nographics -silentcrashes -automated -logfile output-windows-twostickshooter-pure-build-mono.log -cleanedLogFile output-windows-twostickshooter-pure-build-mono-cleaned.log -quit -scene Assets/Scenes/TwoStickPure.unity -scriptingBackend mono -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-windows-twostickshooter-pure"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Pure/build"
    expire_in: 1 week
  dependencies:
    - windows:test


windows:build:boids:il2cpp:2018.2.0a8:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.2.0a8
  after_script:
  - python Tools/CI/afterscript.py 2018.2.0a8
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.exe" -projectpath Samples -batchmode -buildWindows64Player build/il2cpp/windows-standalone.exe -nographics -silentcrashes -automated -logfile output-windows-boids-build-il2cpp.log -cleanedLogFile output-windows-boids-build-il2cpp-cleaned.log -quit -scene Assets/Scenes/BoidExample.unity -scriptingBackend il2cpp -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-windows-boids"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - windows:test


windows:build:chains:il2cpp:2018.2.0a8:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.2.0a8
  after_script:
  - python Tools/CI/afterscript.py 2018.2.0a8
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.exe" -projectpath Samples -batchmode -buildWindows64Player build/il2cpp/windows-standalone.exe -nographics -silentcrashes -automated -logfile output-windows-chains-build-il2cpp.log -cleanedLogFile output-windows-chains-build-il2cpp-cleaned.log -quit -scene Assets/Scenes/ChainExample.unity -scriptingBackend il2cpp -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-windows-chains"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - windows:test


windows:build:hierarchy:il2cpp:2018.2.0a8:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.2.0a8
  after_script:
  - python Tools/CI/afterscript.py 2018.2.0a8
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.exe" -projectpath Samples -batchmode -buildWindows64Player build/il2cpp/windows-standalone.exe -nographics -silentcrashes -automated -logfile output-windows-hierarchy-build-il2cpp.log -cleanedLogFile output-windows-hierarchy-build-il2cpp-cleaned.log -quit -scene Assets/Scenes/HierarchyExample.unity -scriptingBackend il2cpp -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-windows-hierarchy"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - windows:test


windows:build:rotation:il2cpp:2018.2.0a8:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.2.0a8
  after_script:
  - python Tools/CI/afterscript.py 2018.2.0a8
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.exe" -projectpath Samples -batchmode -buildWindows64Player build/il2cpp/windows-standalone.exe -nographics -silentcrashes -automated -logfile output-windows-rotation-build-il2cpp.log -cleanedLogFile output-windows-rotation-build-il2cpp-cleaned.log -quit -scene Assets/Scenes/RotationExample.unity -scriptingBackend il2cpp -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-windows-rotation"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - windows:test


windows:build:twostickshooter-classic:il2cpp:2018.2.0a8:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.2.0a8
  after_script:
  - python Tools/CI/afterscript.py 2018.2.0a8
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.exe" -projectpath TwoStickShooter/Classic -batchmode -buildWindows64Player build/il2cpp/windows-standalone.exe -nographics -silentcrashes -automated -logfile output-windows-twostickshooter-classic-build-il2cpp.log -cleanedLogFile output-windows-twostickshooter-classic-build-il2cpp-cleaned.log -quit -scene Assets/Scenes/TwoStickClassic.unity -scriptingBackend il2cpp -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-windows-twostickshooter-classic"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Classic/build"
    expire_in: 1 week
  dependencies:
    - windows:test


windows:build:twostickshooter-hybrid:il2cpp:2018.2.0a8:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.2.0a8
  after_script:
  - python Tools/CI/afterscript.py 2018.2.0a8
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.exe" -projectpath TwoStickShooter/Hybrid -batchmode -buildWindows64Player build/il2cpp/windows-standalone.exe -nographics -silentcrashes -automated -logfile output-windows-twostickshooter-hybrid-build-il2cpp.log -cleanedLogFile output-windows-twostickshooter-hybrid-build-il2cpp-cleaned.log -quit -scene Assets/Scenes/TwoStickHybrid.unity -scriptingBackend il2cpp -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-windows-twostickshooter-hybrid"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Hybrid/build"
    expire_in: 1 week
  dependencies:
    - windows:test


windows:build:twostickshooter-pure:il2cpp:2018.2.0a8:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.2.0a8
  after_script:
  - python Tools/CI/afterscript.py 2018.2.0a8
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.exe" -projectpath TwoStickShooter/Pure -batchmode -buildWindows64Player build/il2cpp/windows-standalone.exe -nographics -silentcrashes -automated -logfile output-windows-twostickshooter-pure-build-il2cpp.log -cleanedLogFile output-windows-twostickshooter-pure-build-il2cpp-cleaned.log -quit -scene Assets/Scenes/TwoStickPure.unity -scriptingBackend il2cpp -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-windows-twostickshooter-pure"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Pure/build"
    expire_in: 1 week
  dependencies:
    - windows:test


################################################################################
# windows run for 2018.2.0a8
################################################################################
windows:run:boids:mono:2018.2.0a8:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable Samples/build/mono/windows-standalone.exe -logfile output-windows-boids-run-mono.log -cleanedLogFile output-windows-boids-run-mono-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-windows-boids"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - windows:build:boids:mono


windows:run:chains:mono:2018.2.0a8:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable Samples/build/mono/windows-standalone.exe -logfile output-windows-chains-run-mono.log -cleanedLogFile output-windows-chains-run-mono-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-windows-chains"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - windows:build:chains:mono


windows:run:hierarchy:mono:2018.2.0a8:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable Samples/build/mono/windows-standalone.exe -logfile output-windows-hierarchy-run-mono.log -cleanedLogFile output-windows-hierarchy-run-mono-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-windows-hierarchy"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - windows:build:hierarchy:mono


windows:run:rotation:mono:2018.2.0a8:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable Samples/build/mono/windows-standalone.exe -logfile output-windows-rotation-run-mono.log -cleanedLogFile output-windows-rotation-run-mono-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-windows-rotation"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - windows:build:rotation:mono


windows:run:twostickshooter-classic:mono:2018.2.0a8:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable TwoStickShooter/Classic/build/mono/windows-standalone.exe -logfile output-windows-twostickshooter-classic-run-mono.log -cleanedLogFile output-windows-twostickshooter-classic-run-mono-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-windows-twostickshooter-classic"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Classic/build"
    expire_in: 1 week
  dependencies:
    - windows:build:twostickshooter-classic:mono


windows:run:twostickshooter-hybrid:mono:2018.2.0a8:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable TwoStickShooter/Hybrid/build/mono/windows-standalone.exe -logfile output-windows-twostickshooter-hybrid-run-mono.log -cleanedLogFile output-windows-twostickshooter-hybrid-run-mono-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-windows-twostickshooter-hybrid"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Hybrid/build"
    expire_in: 1 week
  dependencies:
    - windows:build:twostickshooter-hybrid:mono


windows:run:twostickshooter-pure:mono:2018.2.0a8:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable TwoStickShooter/Pure/build/mono/windows-standalone.exe -logfile output-windows-twostickshooter-pure-run-mono.log -cleanedLogFile output-windows-twostickshooter-pure-run-mono-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-windows-twostickshooter-pure"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Pure/build"
    expire_in: 1 week
  dependencies:
    - windows:build:twostickshooter-pure:mono


windows:run:boids:il2cpp:2018.2.0a8:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable Samples/build/il2cpp/windows-standalone.exe -logfile output-windows-boids-run-il2cpp.log -cleanedLogFile output-windows-boids-run-il2cpp-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-windows-boids"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - windows:build:boids:il2cpp


windows:run:chains:il2cpp:2018.2.0a8:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable Samples/build/il2cpp/windows-standalone.exe -logfile output-windows-chains-run-il2cpp.log -cleanedLogFile output-windows-chains-run-il2cpp-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-windows-chains"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - windows:build:chains:il2cpp


windows:run:hierarchy:il2cpp:2018.2.0a8:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable Samples/build/il2cpp/windows-standalone.exe -logfile output-windows-hierarchy-run-il2cpp.log -cleanedLogFile output-windows-hierarchy-run-il2cpp-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-windows-hierarchy"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - windows:build:hierarchy:il2cpp


windows:run:rotation:il2cpp:2018.2.0a8:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable Samples/build/il2cpp/windows-standalone.exe -logfile output-windows-rotation-run-il2cpp.log -cleanedLogFile output-windows-rotation-run-il2cpp-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-windows-rotation"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - windows:build:rotation:il2cpp


windows:run:twostickshooter-classic:il2cpp:2018.2.0a8:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable TwoStickShooter/Classic/build/il2cpp/windows-standalone.exe -logfile output-windows-twostickshooter-classic-run-il2cpp.log -cleanedLogFile output-windows-twostickshooter-classic-run-il2cpp-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-windows-twostickshooter-classic"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Classic/build"
    expire_in: 1 week
  dependencies:
    - windows:build:twostickshooter-classic:il2cpp


windows:run:twostickshooter-hybrid:il2cpp:2018.2.0a8:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable TwoStickShooter/Hybrid/build/il2cpp/windows-standalone.exe -logfile output-windows-twostickshooter-hybrid-run-il2cpp.log -cleanedLogFile output-windows-twostickshooter-hybrid-run-il2cpp-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-windows-twostickshooter-hybrid"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Hybrid/build"
    expire_in: 1 week
  dependencies:
    - windows:build:twostickshooter-hybrid:il2cpp


windows:run:twostickshooter-pure:il2cpp:2018.2.0a8:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - windows
  script:
    - dotnet C:/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable TwoStickShooter/Pure/build/il2cpp/windows-standalone.exe -logfile output-windows-twostickshooter-pure-run-il2cpp.log -cleanedLogFile output-windows-twostickshooter-pure-run-il2cpp-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-windows-twostickshooter-pure"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Pure/build"
    expire_in: 1 week
  dependencies:
    - windows:build:twostickshooter-pure:il2cpp


################################################################################
# macOS test for 2018.2.0a8
################################################################################
macOS:test:2018.2.0a8:
  stage: test
  before_script:
  - python Tools/CI/beforescript.py 2018.2.0a8
  after_script:
  - python Tools/CI/afterscript.py 2018.2.0a8
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.app/Contents/MacOS/Unity" -projectpath Samples -batchmode -nographics -silentcrashes -automated -logfile output-macOS-test.log -runtests -testresults results.xml
  artifacts:
    name: "artifacts-macOS-test"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week

################################################################################
# macOS build for 2018.2.0a8
################################################################################
macOS:build:boids:mono:2018.2.0a8:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.2.0a8
  after_script:
  - python Tools/CI/afterscript.py 2018.2.0a8
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.app/Contents/MacOS/Unity" -projectpath Samples -batchmode -buildOSXUniversalPlayer build/mono/macOS-standalone.app -nographics -silentcrashes -automated -logfile output-macOS-boids-build-mono.log -cleanedLogFile output-macOS-boids-build-mono-cleaned.log -quit -scene Assets/Scenes/BoidExample.unity -scriptingBackend mono -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-macOS-boids"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - macOS:test


macOS:build:chains:mono:2018.2.0a8:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.2.0a8
  after_script:
  - python Tools/CI/afterscript.py 2018.2.0a8
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.app/Contents/MacOS/Unity" -projectpath Samples -batchmode -buildOSXUniversalPlayer build/mono/macOS-standalone.app -nographics -silentcrashes -automated -logfile output-macOS-chains-build-mono.log -cleanedLogFile output-macOS-chains-build-mono-cleaned.log -quit -scene Assets/Scenes/ChainExample.unity -scriptingBackend mono -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-macOS-chains"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - macOS:test


macOS:build:hierarchy:mono:2018.2.0a8:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.2.0a8
  after_script:
  - python Tools/CI/afterscript.py 2018.2.0a8
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.app/Contents/MacOS/Unity" -projectpath Samples -batchmode -buildOSXUniversalPlayer build/mono/macOS-standalone.app -nographics -silentcrashes -automated -logfile output-macOS-hierarchy-build-mono.log -cleanedLogFile output-macOS-hierarchy-build-mono-cleaned.log -quit -scene Assets/Scenes/HierarchyExample.unity -scriptingBackend mono -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-macOS-hierarchy"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - macOS:test


macOS:build:rotation:mono:2018.2.0a8:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.2.0a8
  after_script:
  - python Tools/CI/afterscript.py 2018.2.0a8
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.app/Contents/MacOS/Unity" -projectpath Samples -batchmode -buildOSXUniversalPlayer build/mono/macOS-standalone.app -nographics -silentcrashes -automated -logfile output-macOS-rotation-build-mono.log -cleanedLogFile output-macOS-rotation-build-mono-cleaned.log -quit -scene Assets/Scenes/RotationExample.unity -scriptingBackend mono -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-macOS-rotation"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - macOS:test


macOS:build:twostickshooter-classic:mono:2018.2.0a8:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.2.0a8
  after_script:
  - python Tools/CI/afterscript.py 2018.2.0a8
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.app/Contents/MacOS/Unity" -projectpath TwoStickShooter/Classic -batchmode -buildOSXUniversalPlayer build/mono/macOS-standalone.app -nographics -silentcrashes -automated -logfile output-macOS-twostickshooter-classic-build-mono.log -cleanedLogFile output-macOS-twostickshooter-classic-build-mono-cleaned.log -quit -scene Assets/Scenes/TwoStickClassic.unity -scriptingBackend mono -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-macOS-twostickshooter-classic"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Classic/build"
    expire_in: 1 week
  dependencies:
    - macOS:test


macOS:build:twostickshooter-hybrid:mono:2018.2.0a8:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.2.0a8
  after_script:
  - python Tools/CI/afterscript.py 2018.2.0a8
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.app/Contents/MacOS/Unity" -projectpath TwoStickShooter/Hybrid -batchmode -buildOSXUniversalPlayer build/mono/macOS-standalone.app -nographics -silentcrashes -automated -logfile output-macOS-twostickshooter-hybrid-build-mono.log -cleanedLogFile output-macOS-twostickshooter-hybrid-build-mono-cleaned.log -quit -scene Assets/Scenes/TwoStickHybrid.unity -scriptingBackend mono -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-macOS-twostickshooter-hybrid"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Hybrid/build"
    expire_in: 1 week
  dependencies:
    - macOS:test


macOS:build:twostickshooter-pure:mono:2018.2.0a8:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.2.0a8
  after_script:
  - python Tools/CI/afterscript.py 2018.2.0a8
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.app/Contents/MacOS/Unity" -projectpath TwoStickShooter/Pure -batchmode -buildOSXUniversalPlayer build/mono/macOS-standalone.app -nographics -silentcrashes -automated -logfile output-macOS-twostickshooter-pure-build-mono.log -cleanedLogFile output-macOS-twostickshooter-pure-build-mono-cleaned.log -quit -scene Assets/Scenes/TwoStickPure.unity -scriptingBackend mono -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-macOS-twostickshooter-pure"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Pure/build"
    expire_in: 1 week
  dependencies:
    - macOS:test


macOS:build:boids:il2cpp:2018.2.0a8:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.2.0a8
  after_script:
  - python Tools/CI/afterscript.py 2018.2.0a8
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.app/Contents/MacOS/Unity" -projectpath Samples -batchmode -buildOSXUniversalPlayer build/il2cpp/macOS-standalone.app -nographics -silentcrashes -automated -logfile output-macOS-boids-build-il2cpp.log -cleanedLogFile output-macOS-boids-build-il2cpp-cleaned.log -quit -scene Assets/Scenes/BoidExample.unity -scriptingBackend il2cpp -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-macOS-boids"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - macOS:test


macOS:build:chains:il2cpp:2018.2.0a8:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.2.0a8
  after_script:
  - python Tools/CI/afterscript.py 2018.2.0a8
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.app/Contents/MacOS/Unity" -projectpath Samples -batchmode -buildOSXUniversalPlayer build/il2cpp/macOS-standalone.app -nographics -silentcrashes -automated -logfile output-macOS-chains-build-il2cpp.log -cleanedLogFile output-macOS-chains-build-il2cpp-cleaned.log -quit -scene Assets/Scenes/ChainExample.unity -scriptingBackend il2cpp -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-macOS-chains"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - macOS:test


macOS:build:hierarchy:il2cpp:2018.2.0a8:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.2.0a8
  after_script:
  - python Tools/CI/afterscript.py 2018.2.0a8
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.app/Contents/MacOS/Unity" -projectpath Samples -batchmode -buildOSXUniversalPlayer build/il2cpp/macOS-standalone.app -nographics -silentcrashes -automated -logfile output-macOS-hierarchy-build-il2cpp.log -cleanedLogFile output-macOS-hierarchy-build-il2cpp-cleaned.log -quit -scene Assets/Scenes/HierarchyExample.unity -scriptingBackend il2cpp -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-macOS-hierarchy"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - macOS:test


macOS:build:rotation:il2cpp:2018.2.0a8:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.2.0a8
  after_script:
  - python Tools/CI/afterscript.py 2018.2.0a8
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.app/Contents/MacOS/Unity" -projectpath Samples -batchmode -buildOSXUniversalPlayer build/il2cpp/macOS-standalone.app -nographics -silentcrashes -automated -logfile output-macOS-rotation-build-il2cpp.log -cleanedLogFile output-macOS-rotation-build-il2cpp-cleaned.log -quit -scene Assets/Scenes/RotationExample.unity -scriptingBackend il2cpp -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-macOS-rotation"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - macOS:test


macOS:build:twostickshooter-classic:il2cpp:2018.2.0a8:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.2.0a8
  after_script:
  - python Tools/CI/afterscript.py 2018.2.0a8
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.app/Contents/MacOS/Unity" -projectpath TwoStickShooter/Classic -batchmode -buildOSXUniversalPlayer build/il2cpp/macOS-standalone.app -nographics -silentcrashes -automated -logfile output-macOS-twostickshooter-classic-build-il2cpp.log -cleanedLogFile output-macOS-twostickshooter-classic-build-il2cpp-cleaned.log -quit -scene Assets/Scenes/TwoStickClassic.unity -scriptingBackend il2cpp -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-macOS-twostickshooter-classic"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Classic/build"
    expire_in: 1 week
  dependencies:
    - macOS:test


macOS:build:twostickshooter-hybrid:il2cpp:2018.2.0a8:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.2.0a8
  after_script:
  - python Tools/CI/afterscript.py 2018.2.0a8
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.app/Contents/MacOS/Unity" -projectpath TwoStickShooter/Hybrid -batchmode -buildOSXUniversalPlayer build/il2cpp/macOS-standalone.app -nographics -silentcrashes -automated -logfile output-macOS-twostickshooter-hybrid-build-il2cpp.log -cleanedLogFile output-macOS-twostickshooter-hybrid-build-il2cpp-cleaned.log -quit -scene Assets/Scenes/TwoStickHybrid.unity -scriptingBackend il2cpp -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-macOS-twostickshooter-hybrid"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Hybrid/build"
    expire_in: 1 week
  dependencies:
    - macOS:test


macOS:build:twostickshooter-pure:il2cpp:2018.2.0a8:
  stage: build
  before_script:
  - python Tools/CI/beforescript.py 2018.2.0a8
  after_script:
  - python Tools/CI/afterscript.py 2018.2.0a8
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Editor/bin/Debug/netcoreapp2.0/UnityLauncher.Editor.dll -unityexecutable "Editor/Unity.app/Contents/MacOS/Unity" -projectpath TwoStickShooter/Pure -batchmode -buildOSXUniversalPlayer build/il2cpp/macOS-standalone.app -nographics -silentcrashes -automated -logfile output-macOS-twostickshooter-pure-build-il2cpp.log -cleanedLogFile output-macOS-twostickshooter-pure-build-il2cpp-cleaned.log -quit -scene Assets/Scenes/TwoStickPure.unity -scriptingBackend il2cpp -displayResolutionDialog disabled
  artifacts:
    name: "artifacts-macOS-twostickshooter-pure"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Pure/build"
    expire_in: 1 week
  dependencies:
    - macOS:test


################################################################################
# macOS run for 2018.2.0a8
################################################################################
macOS:run:boids:mono:2018.2.0a8:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable Samples/build/mono/macOS-standalone.app -logfile output-macOS-boids-run-mono.log -cleanedLogFile output-macOS-boids-run-mono-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-macOS-boids"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - macOS:build:boids:mono


macOS:run:chains:mono:2018.2.0a8:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable Samples/build/mono/macOS-standalone.app -logfile output-macOS-chains-run-mono.log -cleanedLogFile output-macOS-chains-run-mono-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-macOS-chains"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - macOS:build:chains:mono


macOS:run:hierarchy:mono:2018.2.0a8:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable Samples/build/mono/macOS-standalone.app -logfile output-macOS-hierarchy-run-mono.log -cleanedLogFile output-macOS-hierarchy-run-mono-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-macOS-hierarchy"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - macOS:build:hierarchy:mono


macOS:run:rotation:mono:2018.2.0a8:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable Samples/build/mono/macOS-standalone.app -logfile output-macOS-rotation-run-mono.log -cleanedLogFile output-macOS-rotation-run-mono-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-macOS-rotation"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - macOS:build:rotation:mono


macOS:run:twostickshooter-classic:mono:2018.2.0a8:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable TwoStickShooter/Classic/build/mono/macOS-standalone.app -logfile output-macOS-twostickshooter-classic-run-mono.log -cleanedLogFile output-macOS-twostickshooter-classic-run-mono-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-macOS-twostickshooter-classic"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Classic/build"
    expire_in: 1 week
  dependencies:
    - macOS:build:twostickshooter-classic:mono


macOS:run:twostickshooter-hybrid:mono:2018.2.0a8:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable TwoStickShooter/Hybrid/build/mono/macOS-standalone.app -logfile output-macOS-twostickshooter-hybrid-run-mono.log -cleanedLogFile output-macOS-twostickshooter-hybrid-run-mono-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-macOS-twostickshooter-hybrid"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Hybrid/build"
    expire_in: 1 week
  dependencies:
    - macOS:build:twostickshooter-hybrid:mono


macOS:run:twostickshooter-pure:mono:2018.2.0a8:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable TwoStickShooter/Pure/build/mono/macOS-standalone.app -logfile output-macOS-twostickshooter-pure-run-mono.log -cleanedLogFile output-macOS-twostickshooter-pure-run-mono-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-macOS-twostickshooter-pure"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Pure/build"
    expire_in: 1 week
  dependencies:
    - macOS:build:twostickshooter-pure:mono


macOS:run:boids:il2cpp:2018.2.0a8:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable Samples/build/il2cpp/macOS-standalone.app -logfile output-macOS-boids-run-il2cpp.log -cleanedLogFile output-macOS-boids-run-il2cpp-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-macOS-boids"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - macOS:build:boids:il2cpp


macOS:run:chains:il2cpp:2018.2.0a8:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable Samples/build/il2cpp/macOS-standalone.app -logfile output-macOS-chains-run-il2cpp.log -cleanedLogFile output-macOS-chains-run-il2cpp-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-macOS-chains"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - macOS:build:chains:il2cpp


macOS:run:hierarchy:il2cpp:2018.2.0a8:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable Samples/build/il2cpp/macOS-standalone.app -logfile output-macOS-hierarchy-run-il2cpp.log -cleanedLogFile output-macOS-hierarchy-run-il2cpp-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-macOS-hierarchy"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - macOS:build:hierarchy:il2cpp


macOS:run:rotation:il2cpp:2018.2.0a8:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable Samples/build/il2cpp/macOS-standalone.app -logfile output-macOS-rotation-run-il2cpp.log -cleanedLogFile output-macOS-rotation-run-il2cpp-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-macOS-rotation"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "Samples/build"
    expire_in: 1 week
  dependencies:
    - macOS:build:rotation:il2cpp


macOS:run:twostickshooter-classic:il2cpp:2018.2.0a8:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable TwoStickShooter/Classic/build/il2cpp/macOS-standalone.app -logfile output-macOS-twostickshooter-classic-run-il2cpp.log -cleanedLogFile output-macOS-twostickshooter-classic-run-il2cpp-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-macOS-twostickshooter-classic"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Classic/build"
    expire_in: 1 week
  dependencies:
    - macOS:build:twostickshooter-classic:il2cpp


macOS:run:twostickshooter-hybrid:il2cpp:2018.2.0a8:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable TwoStickShooter/Hybrid/build/il2cpp/macOS-standalone.app -logfile output-macOS-twostickshooter-hybrid-run-il2cpp.log -cleanedLogFile output-macOS-twostickshooter-hybrid-run-il2cpp-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-macOS-twostickshooter-hybrid"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Hybrid/build"
    expire_in: 1 week
  dependencies:
    - macOS:build:twostickshooter-hybrid:il2cpp


macOS:run:twostickshooter-pure:il2cpp:2018.2.0a8:
  variables:
    GIT_STRATEGY: fetch
  stage: run
  tags:
  - macOS
  script:
    - dotnet ~/unity-log-wrapper/UnityLauncher.Player/bin/Debug/netcoreapp2.0/UnityLauncher.Player.dll -executable TwoStickShooter/Pure/build/il2cpp/macOS-standalone.app -logfile output-macOS-twostickshooter-pure-run-il2cpp.log -cleanedLogFile output-macOS-twostickshooter-pure-run-il2cpp-cleaned.log -enforceEmptyCleanedLogFile -timeout 120 -timeoutIgnore
  artifacts:
    name: "artifacts-macOS-twostickshooter-pure"
    when: always
    paths:
      - "*.log"
      - "*.xml"
      - "TwoStickShooter/Pure/build"
    expire_in: 1 week
  dependencies:
    - macOS:build:twostickshooter-pure:il2cpp


